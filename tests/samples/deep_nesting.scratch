// Test: Deep Nesting
// This tests multiple levels of nested loops and conditions

when flagClicked
    say "Deep nesting test"
    wait 0.5
    
    // Level 1 loop
    repeat 2
        say "Level 1"
        
        // Level 2 loop
        repeat 2
            say "Level 2"
            
            // Level 3 loop
            repeat 2
                say "Level 3"
                move 10
                turn right 45
                wait 0.1
            
            // Back to level 2
            turn right 90
        
        // Back to level 1
        move 50
    
    // After all loops
    say "All loops complete!"
    wait 1
    
    // Now test nested conditions
    set [x] to 0
    
    if (x) = 0 then
        say "x is 0"
        
        if (y) = 0 then
            say "y is also 0"
            
            if touching "edge" then
                say "And touching edge!"
            else
                say "Not touching edge"
                move 10
        else
            say "y is not 0"
    else
        say "x is not 0"
        
        if (x) > 100 then
            say "x is large"
        else
            say "x is small"
    
    // Final message
    say "Nesting test complete!"
    
    // More code after nested conditions
    repeat 3
        turn right 120
        move 30
        wait 0.2
